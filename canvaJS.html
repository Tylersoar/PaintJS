<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paint</title>
</head>

<body onmousemove="coordinate(event)">
<canvas id="myCanvas" width="1280" height="720" style="border:1px solid black;"></canvas>

<br>
<label>X-Coordinate:</label>
<input type="text" id="x" readonly/>
<br><br>
<label>Y-coordinate:</label>
<input type="text" id="y" readonly/>
<br><br>

<button onclick="toggleEraser()">Toggle Eraser</button>
<button onclick="clearCanvas()">Clear Canvas</button>
<br><br>

<label>Brush Size:</label>
<input type="range" min="1" max="100" value="10" class="slider" id="myRange">
<p>Value: <span id="demo"></span></p>

<script>
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo"); // gets the span element to display the value
    output.innerHTML = slider.value; // displays the initial value

    const canvas = document.getElementById("myCanvas") // gives canvas element
    const ctx = canvas.getContext("2d")  // getContext returns tools and methods for drawing

    let painting = false;
    let erasing = false;
    let brushSize = parseInt(slider.value);


    slider.oninput = function () {
        brushSize = parseInt(this.value); // updates brush size based on slider value
        output.innerHTML = this.value; // updates the displayed value when the slider is moved
    }

    function startPosition(e) {
        painting = true;
        draw(e)
    }

    function endPosition() {
        painting = false;
        ctx.beginPath() // stops drawing
    }

    function draw(e) {
        if (!painting) return;

        const rect = canvas.getBoundingClientRect(); // gets the position of the canvas
        const x = e.clientX - rect.left; // calculates x position relative to canvas
        const y = e.clientY - rect.top; // calculates y position relative to canvas

        ctx.lineWidth = brushSize; // sets the width of the line based on brush size
        ctx.lineCap = "round"; // sets line cap style
        ctx.strokeStyle = erasing ? "white" : "black"; // if erasing, sets stroke color to white, else black

        ctx.lineTo(x, y);
        ctx.stroke(); // draws the line
        ctx.beginPath(); // starts a new path
        ctx.moveTo(x, y); // moves the starting point to the current position

        document.getElementById("x").value = Math.round(x); // updates x-coordinate input
        document.getElementById("y").value = Math.round(y); // updates y-coordinate input
    }

    function coordinate(event) { // Gets mouse position
        const rect = canvas.getBoundingClientRect(); // gets the position of the canvas
        let x = event.clientX - rect.left; // calculates x position relative to canvas
        let y = event.clientY - rect.top; // calculates y position relative to canvas

        document.getElementById("x").value = Math.round(x);
        document.getElementById("y").value = Math.round(y);
    }

    function toggleEraser() {
        erasing = !erasing; // toggles erasing mode
        alert(erasing ? "Eraser is ON" : "Eraser is OFF"); // if eraing is true, alert that eraser is on, else off
    }

    function clearCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    canvas.addEventListener("mousedown", startPosition); // when mouse is pressed down
    canvas.addEventListener("mouseup", endPosition); // when mouse is released
    canvas.addEventListener("mousemove", draw); // when mouse is moved
</script>
</body>
</html>